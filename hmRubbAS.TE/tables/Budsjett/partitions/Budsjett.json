{
  "name": "Budsjett",
  "mode": "import",
  "queryGroup": "Fakta",
  "source": {
    "type": "m",
    "expression": [
      "let",
      "   ",
      "    Custom1 = Table.NestedJoin(SQL_Budget ,{\"CompanyId\"}, SQL_Company,{\"Company\"}, \"SelskapsId\",JoinKind.Inner),",
      "    #\"Removed Columns\" = Table.RemoveColumns(Custom1,{\"CompanyId\"}),",
      "    #\"Expanded SelskapsId\" = Table.ExpandTableColumn(#\"Removed Columns\", \"SelskapsId\", {\"CompanyId\"}, {\"CompanyId\"}),",
      "    #\"Added Custom\" = Table.AddColumn(#\"Expanded SelskapsId\", \"KontoLnk\", each if Text.Length([Konto]) > 0 then Text.From([CompanyId])&\"-\"&Text.From([Konto]) else null),",
      "    #\"Changed Type\" = Table.TransformColumnTypes(#\"Added Custom\",{{\"Konto\", Int64.Type}, {\"NOK\", type number}, {\"Dato\", type date}, {\"Sett\", type text}, {\"CompanyId\", Int64.Type}, {\"KontoLnk\", type text}})",
      "in",
      "    #\"Changed Type\""
    ]
  }
}